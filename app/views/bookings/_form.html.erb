<div class="container">
  <div class="row justify-content-center">
    <div class="col-sm-2 col-sm-offset-8">
      <%= form_with model: booking, local: true do |form| %>
      <%# simple_form_for [car, booking], method: :post, url: bookings_path do |form| %>

        <div class="form-group row">
          <p>
            <%# form.hidden_field :car_id %>
            <%# form.hidden.text_field :car_id, car.id %>
            <%# form.input :car_id, as: "hidden", input_html: { value: car.id } %>
            <%# form.collection_select(
              :car_id,
              @cars,
              :id,
              :brand,
              {prompt: true, multiple: true}
              ) %>
            <%= collection_select(
              :booking,
              :car_id,
              Car.all,
              :id,
              :brand,
              {selected: car.id}
              ) %>
          </p>
        </div>
        <div class="form-group row">
          <p>
            <%= form.label :person %>
            <%# form.collection_select(
              :person_id,
              @people,
              :id,
              :fullname,
              {prompt: true, multiple: true}
              ) %>
            <%= collection_select(
              :booking,
              :person_id,
              Person.all,
              :id,
              :fullname,
              {prompt: true, multiple: true}
              ) %>
          </p>
        </div>

        <div class="form-group row">
          <p>
            <%= form.label :start_date, class: 'col-md-auto col-form-label' %>
            <%= form.date_field :start_date, class: 'form-control', placeholder: 'Insert start date' %>
          </p>
        </div>
        <div class="form-group row">
          <p>
            <%= form.label :end_date, class: 'col-md-auto col-form-label' %>
            <%= form.date_field :end_date, class: 'form-control', placeholder: 'Insert end date' %>
          </p>
        </div>
        <div class="form-group row">
          <p>
            <%= form.submit 'Book', class: 'btn btn-success' %>
            <%= link_to 'Cancel', class: 'btn btn-danger' %>
          </p>
        </div>
      <% end %>
    </div>
  </div>
</div>


<%= simple_form_for([@car, @booking]) do |f| %>
  <%= f.input :start_date, as: :string, label: "Dates", placeholder: "From", wrapper_html: { class: "inline_field_wrapper" } %>
  <%= f.input :end_date, as: :string, label: '&nbsp;'.html_safe, placeholder: "To", disabled: true, wrapper_html: { class: "inline_field_wrapper" } %>
  <%= f.submit "book", class: "btn btn-primary btn-lg btn-block btn-booking" %>
<% end %>
